<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>react-router-domæºç è§£æ(å…«) -NavLink | DZY</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="å‰å¤©å­¦ä¹ äº†Linkç»„ä»¶æºç , ä»Šå¤©å†æ¥çœ‹ä¸€ä¸‹ä¸ä¹‹ç›¸ä¼¼çš„NavLink">
<meta name="keywords" content="react">
<meta property="og:type" content="article">
<meta property="og:title" content="react-router-domæºç è§£æ(å…«) -NavLink">
<meta property="og:url" content="https://blog.yyge.top/2019/02/07/react-router-domæºç è§£æ-å…«-NavLink/index.html">
<meta property="og:site_name" content="DZY">
<meta property="og:description" content="å‰å¤©å­¦ä¹ äº†Linkç»„ä»¶æºç , ä»Šå¤©å†æ¥çœ‹ä¸€ä¸‹ä¸ä¹‹ç›¸ä¼¼çš„NavLink">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://oos.blog.yyge.top/2019/2/7/react-router-dom%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90%28%E5%85%AB%29%20-NavLink/images/1.jpg?imageView2/0/q/75|watermark/2/text/6Ziz5ZOl5bCP56uZ/font/5b6u6L2v6ZuF6buR/fontsize/440/fill/IzE4OTBGRg==/dissolve/100/gravity/SouthEast/dx/10/dy/10|imageslim">
<meta property="og:image" content="https://oos.blog.yyge.top/2019/2/7/react-router-dom%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90%28%E5%85%AB%29%20-NavLink/images/2.gif?imageView2/0/q/75|watermark/2/text/6Ziz5ZOl5bCP56uZ/font/5b6u6L2v6ZuF6buR/fontsize/440/fill/IzE4OTBGRg==/dissolve/100/gravity/SouthEast/dx/10/dy/10|imageslim">
<meta property="og:image" content="https://oos.blog.yyge.top/2019/2/7/react-router-dom%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90%28%E5%85%AB%29%20-NavLink/images/3.jpg?imageView2/0/q/75|watermark/2/text/6Ziz5ZOl5bCP56uZ/font/5b6u6L2v6ZuF6buR/fontsize/440/fill/IzE4OTBGRg==/dissolve/100/gravity/SouthEast/dx/10/dy/10|imageslim">
<meta property="og:updated_time" content="2019-02-07T07:33:57.727Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="react-router-domæºç è§£æ(å…«) -NavLink">
<meta name="twitter:description" content="å‰å¤©å­¦ä¹ äº†Linkç»„ä»¶æºç , ä»Šå¤©å†æ¥çœ‹ä¸€ä¸‹ä¸ä¹‹ç›¸ä¼¼çš„NavLink">
<meta name="twitter:image" content="https://oos.blog.yyge.top/2019/2/7/react-router-dom%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90%28%E5%85%AB%29%20-NavLink/images/1.jpg?imageView2/0/q/75|watermark/2/text/6Ziz5ZOl5bCP56uZ/font/5b6u6L2v6ZuF6buR/fontsize/440/fill/IzE4OTBGRg==/dissolve/100/gravity/SouthEast/dx/10/dy/10|imageslim">
  
    <link rel="alternate" href="/atom.xml" title="DZY" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">DZY</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">å¤§ä¸‰è€çŒ«-frontender</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="æœç´¢"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://blog.yyge.top"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-react-router-domæºç è§£æ-å…«-NavLink" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/02/07/react-router-domæºç è§£æ-å…«-NavLink/" class="article-date">
  <time datetime="2019-02-06T23:56:05.000Z" itemprop="datePublished">2019-02-07</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/frontend/">frontend</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      react-router-domæºç è§£æ(å…«) -NavLink
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>å‰å¤©å­¦ä¹ äº†<code>Link</code>ç»„ä»¶æºç , ä»Šå¤©å†æ¥çœ‹ä¸€ä¸‹ä¸ä¹‹ç›¸ä¼¼çš„<code>NavLink</code></p>
<a id="more"></a>
<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a><strong>å‰è¨€</strong></h2><hr>
<p>ç»è¿‡ä¸Šä¸€ç¯‡æ–‡ç« <a href="https://blog.yyge.top/2019/02/05/react-router-dom%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90-%E4%B8%83-Link">Link</a>çš„æˆ˜ç«æ´—ç¤¼, å¯ä»¥äº†è§£åˆ°, <code>Link</code>ä½œä¸ºæ²Ÿé€š<code>react-router</code>å’Œ<code>react</code>ä¹‹é—´çš„æ¡¥æ¢, ç»å†<code>click -&gt; urlå˜åŒ– -&gt; history(onListen) -&gt; Switch -&gt; Route render</code>çš„è¿‡ç¨‹, æ®æ­¤, æœ‰å…³<code>Link</code>çš„é¢è¯•é¢˜ä¾¿å¯è¿åˆƒè€Œè§£.</p>
<p>æ­£å¼å¼€å§‹åˆ†æä¹‹å‰, å…ˆæ¥å›æƒ³ä¸€ä¸‹æˆ‘ä»¬å¹³æ—¶æ˜¯å¦‚ä½•ä½¿ç”¨<code>NavLink</code>çš„?</p>
<blockquote>
<p>ä¼ å…¥å¯¹åº”çš„<code>activeStyle</code>æˆ–è€…<code>activeClass</code>, ç‚¹å‡»ä¹‹å, å¦‚æœå¯¹åº”çš„ç»„ä»¶æˆåŠŸæ¸²æŸ“, åˆ™è¯¥<code>NavLink</code>çš„æ ·å¼ä¹Ÿä¼šæ”¹å˜.</p>
</blockquote>
<p>å¸¦ç€å¹³æ—¶ä½¿ç”¨çš„æ€è·¯å»åˆ†ææºç , ä¼šåˆäº‹åŠåŠŸå€çš„æ•ˆæœ.</p>
<p>OK, æ­£å¼å¼€å§‹å¯¹<code>NavLink</code>çš„æ¢ç´¢.</p>
<h2 id="ç»†è¯´"><a href="#ç»†è¯´" class="headerlink" title="ç»†è¯´"></a><strong>ç»†è¯´</strong></h2><hr>
<p>å…ˆæ¥çœ‹ä¸€ä¸‹<code>NavLink</code>çš„å¤§è‡´ç»“æ„, å¯ä»¥çœ‹åˆ°, å…¶å®<code>NavLink</code>æ˜¯ä¸€ä¸ª<code>functional</code>ç»„ä»¶, <code>functional</code>ç›¸è¾ƒäº<code>classes</code>çš„ä¼˜åŠ¿å¾ˆå¤š:</p>
<ul>
<li>é«˜åº¦å¯æ‹“å±•</li>
<li>æ˜“äºä¼˜åŒ–é‡æ„</li>
<li>æ¸²æŸ“æ€§èƒ½è¾ƒä¼˜</li>
</ul>
<p>åœ¨<code>react v16.7</code>ä¹‹åçš„<code>hooks</code>åŠ æŒä¹‹ä¸‹, å¯ç”¨æ€§æ›´æ˜¯é£æ­¥æå‡.</p>
<p>æ¥ç€æ¥çœ‹ä¸€ä¸‹<code>NavLink</code>æ¥æ”¶äº†å“ªäº›<code>props</code>?</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">NavLink</span>(<span class="params">&#123;</span></span></span><br><span class="line"><span class="function"><span class="params">  "aria-current": ariaCurrent = "page",</span></span></span><br><span class="line"><span class="function"><span class="params">  activeClassName = "active",</span></span></span><br><span class="line"><span class="function"><span class="params">  activeStyle,</span></span></span><br><span class="line"><span class="function"><span class="params">  className: classNameProp,</span></span></span><br><span class="line"><span class="function"><span class="params">  exact,</span></span></span><br><span class="line"><span class="function"><span class="params">  isActive: isActiveProp,</span></span></span><br><span class="line"><span class="function"><span class="params">  location,</span></span></span><br><span class="line"><span class="function"><span class="params">  strict,</span></span></span><br><span class="line"><span class="function"><span class="params">  style: styleProp,</span></span></span><br><span class="line"><span class="function"><span class="params">  to,</span></span></span><br><span class="line"><span class="function"><span class="params">  ...rest</span></span></span><br><span class="line"><span class="function"><span class="params">&#125;</span>) </span>&#123;...&#125;</span><br></pre></td></tr></table></figure>
<p>å¯¹åº”çš„propsçš„åŠŸèƒ½å¦‚ä¸‹è¡¨æ‰€ç¤º:</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>aria-current</td>
<td>æ®‹éšœäººå£«ä¸“ç”¨, å¯å‚è€ƒ<a href="https://www.w3.org/TR/wai-aria-1.1/#aria-current" target="_blank" rel="noopener">è¿™é‡Œ</a></td>
</tr>
<tr>
<td>activeClassName</td>
<td>åŒ¹é…æ—¶æ·»åŠ çš„ç±»å</td>
</tr>
<tr>
<td>activeStyle</td>
<td>åŒ¹é…æ—¶æ·»åŠ çš„æ ·å¼</td>
</tr>
<tr>
<td>className</td>
<td>NavLinkçš„ç±»å, ä¼šé™„åŠ åˆ°Link</td>
</tr>
<tr>
<td>exact</td>
<td>æ˜¯å¦å®è¡Œå®Œå…¨åŒ¹é…</td>
</tr>
<tr>
<td>strict</td>
<td>æ˜¯å¦å®è¡Œä¸¥æ ¼åŒ¹é…</td>
</tr>
<tr>
<td>isActive</td>
<td>è‡ªè¡Œè®¡ç®—é«˜äº®æ¡ä»¶</td>
</tr>
<tr>
<td>location</td>
<td>ä¸å½“å‰<code>to</code>è¿›è¡Œæ¯”è¾ƒçš„location, é»˜è®¤æ˜¯<code>context.location</code></td>
</tr>
<tr>
<td>style</td>
<td>é»˜è®¤æ ·å¼</td>
</tr>
<tr>
<td>to</td>
<td>è·³è½¬çš„url</td>
</tr>
<tr>
<td>â€¦rest</td>
<td>é¢å¤–å‚æ•°</td>
</tr>
</tbody>
</table>
<p>æ¥ç€, å¯ä»¥çœ‹åˆ°ä¸‹é¢:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="keyword">typeof</span> to === <span class="string">"object"</span> ? to.pathname : to;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Regex taken from: https://github.com/pillarjs/path-to-regexp/blob/master/index.js#L202</span></span><br><span class="line"><span class="keyword">const</span> escapedPath = path &amp;&amp; path.replace(<span class="regexp">/([.+*?=^!:$&#123;&#125;()[\]|/\\])/g</span>, <span class="string">"\\$1"</span>);</span><br></pre></td></tr></table></figure>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯, è¿™é‡Œçš„<code>excapedPath</code>å¾ˆå¥‡æ€ª, ä¸€ç›´æƒ³ä¸é€šä¸ºä»€ä¹ˆè¦è¿›è¡Œè¿™ä¸ªæ“ä½œ? æ€€ç€å¥½å¥‡çš„å¿ƒç†ç‚¹å¼€æ³¨é‡Šçš„é“¾æ¥, å¯ä»¥çœ‹åˆ°:</p>
<p><img src="https://oos.blog.yyge.top/2019/2/7/react-router-dom%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90%28%E5%85%AB%29%20-NavLink/images/1.jpg?imageView2/0/q/75|watermark/2/text/6Ziz5ZOl5bCP56uZ/font/5b6u6L2v6ZuF6buR/fontsize/440/fill/IzE4OTBGRg==/dissolve/100/gravity/SouthEast/dx/10/dy/10|imageslim" alt="excapedPath"></p>
<p>è¯¥å‡½æ•°ä¼šå°†å­—ç¬¦ä¸²ä¸­çš„ç‰¹æ®Šå­—ç¬¦è¿›è¡Œè½¬ä¹‰å¤„ç†, é‚£ä¹ˆè¿™åˆ°åº•æœ‰å’©ç”¨? å‡è®¾æœ‰ä¸€ä¸ªç‰¹æ®Šçš„<code>path</code>åºåˆ—æ˜¯è¿™æ ·çš„:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path: <span class="built_in">string</span> = <span class="string">'/user\duan/profile/se+cr*et'</span>;</span><br></pre></td></tr></table></figure>
<p>ç”¨æˆ·æƒ³ä¼ é€’è¯¥<code>path</code>, è¯¥<code>path</code>ä¸­å«æœ‰ç‰¹æ®Šå­—ç¬¦, é‚£ä¹ˆ<code>escaped</code>ä¼šå°†è½¬ä¹‰å­—ç¬¦å†æ­¤è¿›è¡Œè½¬ä¹‰, ä¾¿äºä¼ é€’.</p>
<p>æ¥ç€å¾€ä¸‹çœ‹:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> (</span><br><span class="line">  &lt;Route</span><br><span class="line">    path=&#123;escapedPath&#125;</span><br><span class="line">    exact=&#123;exact&#125;</span><br><span class="line">    strict=&#123;strict&#125;</span><br><span class="line">    location=&#123;location&#125;</span><br><span class="line">    children=&#123;<span class="function">(<span class="params">&#123; location, match &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> isActive = !!(isActiveProp</span><br><span class="line">        ? isActiveProp(match, location)</span><br><span class="line">        : match);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> className = isActive</span><br><span class="line">        ? joinClassnames(classNameProp, activeClassName)</span><br><span class="line">        : classNameProp;</span><br><span class="line">      <span class="keyword">const</span> style = isActive ? &#123; ...styleProp, ...activeStyle &#125; : styleProp;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> (</span><br><span class="line">        &lt;Link</span><br><span class="line">          aria-current=&#123;(isActive &amp;&amp; ariaCurrent) || <span class="literal">null</span>&#125;</span><br><span class="line">          className=&#123;className&#125;</span><br><span class="line">          style=&#123;style&#125;</span><br><span class="line">          to=&#123;to&#125;</span><br><span class="line">          &#123;...rest&#125;</span><br><span class="line">        /&gt;</span><br><span class="line">      );</span><br><span class="line">    &#125;&#125;</span><br><span class="line">  /&gt;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡ä¸€ä¸ª<code>Route</code>ç»„ä»¶åŒ…è£¹, æ ¹æ®å…¶çš„<code>match</code>åˆ¤æ–­æ˜¯å¦<code>active</code>, ç„¶ååœ¨<code>Route</code>ä¸­è¿”å›å¯¹åº”çš„<code>Link</code>ç»„ä»¶, å°†å¤„ç†åçš„<code>rest</code>ç­‰å‚æ•°ä¼ é€’ç»™<code>Link</code>ç»„ä»¶.</p>
<p>è¿™ä¸€æ­¥, æˆ‘åˆšå¼€å§‹çœ‹äº†å¥½å‡ ééƒ½æ²¡çœ‹æ‡‚, å¾ˆéš¾ç†è§£, éš¾ç‚¹åœ¨äºä¸ºä»€ä¹ˆè¦ç”¨ä¸€ä¸ª<code>Route</code>??? å®ƒçš„æœ¬è´¨æ˜¯ä¸ºäº†è·å–<code>match</code>, æ ¹æ®<code>match</code>åŒ¹é…æˆåŠŸä¸å¦, è¿›è¡ŒåŠ¨æ€æ·»åŠ æ ·å¼, ç†è§£äº†è¿™ç‚¹, å°±æ²¡å•¥å¯è¯´çš„äº†.</p>
<p>å¦å¤–, è¿˜æœ‰ä¸€ç§æ€è·¯ â€”â€” é€šè¿‡è·å–<code>Link</code>çš„<code>innerRef</code>, ç„¶åé€šè¿‡<code>matchPath</code>è‡ªè¡Œæ¯”å¯¹<code>location.pathname === to</code>, æ ¹æ®åˆ¤æ–­çš„ç»“æœ, ç›´æ¥æ“ä½œ<code>DOM</code>, è¿™ä¹ˆåšä¹Ÿæ˜¯å¯ä»¥çš„, ä¸è¿‡å€¼å¾—æ€è€ƒçš„æ˜¯, è¿™ä¸æ­£å¥½è¿èƒŒäº†<code>Route</code>ç»„ä»¶çš„è®¾è®¡åŸåˆ™:</p>
<blockquote>
<p>åŒ¹é…è·¯å¾„è§„åˆ™, æ¸²æŸ“ç»„ä»¶</p>
</blockquote>
<p>æ—¢ç„¶æœ‰æ›´ä¸“ä¸šçš„<code>Route</code>æ¥å¸®æˆ‘ä»¬ä½œè¿™ä»¶äº‹, ä½•ä¹è€Œä¸ä¸ºå‘¢? ä¸ºä»€ä¹ˆè¿˜è¦å†æ¬¡æ¯”å¯¹å‘¢? å¾—ä¸å¿å¤±.</p>
<p>ğŸ†—, <code>NavLink</code>çš„æºç æ€è·¯è§£æå¤§è‡´å·²ç»å®Œæˆ, æ¥ä¸‹æ¥ç»§ç»­å®Œå–„è‡ªå·±çš„<code>yyg-react-router-dom</code>åº“.</p>
<h2 id="å®è·µ"><a href="#å®è·µ" class="headerlink" title="å®è·µ"></a><strong>å®è·µ</strong></h2><hr>
<p>è€æ ·å­, é¦–å…ˆå®šä¹‰æˆ‘ä»¬æ‰€éœ€çš„ä¸€åˆ‡<code>props</code>, å…·ä½“çš„<code>props</code>å¯ä»¥çœ‹<a href="https://reacttraining.com/react-router/web/api/NavLink" target="_blank" rel="noopener">è¿™é‡Œ</a>.</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/yyg-react-router-dom/components/NavLink.tsx</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> <span class="keyword">extends</span> React.HtmlHTMLAttributes&lt;HTMLAnchorElement&gt; &#123;</span><br><span class="line">  to: <span class="built_in">string</span> | LocationDescriptorObject&lt;&#123;</span><br><span class="line">    [key: <span class="built_in">string</span>]: <span class="built_in">any</span>,</span><br><span class="line">  &#125;&gt;;</span><br><span class="line">  activeClassName?: <span class="built_in">string</span>;</span><br><span class="line">  activeStyle?: React.HtmlHTMLAttributes&lt;HTMLAnchorElement&gt;;</span><br><span class="line">  exact?: <span class="built_in">boolean</span>;</span><br><span class="line">  strict?: <span class="built_in">boolean</span>;</span><br><span class="line">  sensitive?: <span class="built_in">boolean</span>;</span><br><span class="line">  isActive?: (</span><br><span class="line">    data: &#123;</span><br><span class="line">      location: Location,</span><br><span class="line">      match: IStaticMatchParams,</span><br><span class="line">    &#125;,</span><br><span class="line">  ) =&gt; <span class="built_in">boolean</span>;</span><br><span class="line">  location?: Location;</span><br><span class="line">  ariaCurrent?: ARIA_CURRENT;</span><br><span class="line">  children?: React.ReactChild;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>æ¥ç€, åˆ°äº†ä¸‹é¢, æ ¹æ®åˆ¤æ–­<code>match</code>æ˜¯å¦ä¸ºnullæ¥æ–­å®špathæ˜¯å¦åŒ¹é…:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> (</span><br><span class="line">  ...</span><br><span class="line">  &lt;Route</span><br><span class="line">    children=&#123;<span class="function">(<span class="params">p</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> isActive = !!(p.match);</span><br><span class="line">      <span class="keyword">const</span> activeStyles = isActive ? activeStyle : &#123;&#125;;</span><br><span class="line">      <span class="keyword">const</span> activeClassNames = isActive ? activeClassName : <span class="string">''</span>;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> (</span><br><span class="line">        &lt;Link</span><br><span class="line">          &#123;...rests&#125;</span><br><span class="line">          to=&#123;path&#125;</span><br><span class="line">          style=&#123;activeStyles&#125;</span><br><span class="line">          className=&#123;activeClassNames&#125;</span><br><span class="line">        &gt;&#123;children&#125;&lt;<span class="regexp">/Link&gt;</span></span><br><span class="line"><span class="regexp">      );</span></span><br><span class="line"><span class="regexp">    &#125;&#125;</span></span><br><span class="line"><span class="regexp">  &gt;</span></span><br><span class="line"><span class="regexp">);</span></span><br></pre></td></tr></table></figure>
<p>æ³¨æ„! ä¸Šé¢æœ‰ä¸€ä¸ªå€¼å¾—æ³¨æ„çš„ç‚¹, é‚£å°±æ˜¯<code>Route</code>çš„<code>children</code>å’Œ<code>render</code>æ˜¯ä¸åŒçš„, ä¸¤è€…çš„å…·ä½“å·®åˆ«å¯ä»¥çœ‹<a href="https://blog.yyge.top/2019/02/07/%E8%A7%A3%E6%9E%90Route%E4%B8%AD%E7%9A%84render%E5%92%8Cchildren/">è¿™é‡Œ</a>, æ‰€ä»¥, è¿™é‡Œåªèƒ½ä½¿ç”¨<code>children</code>æ¥æ¸²æŸ“.</p>
<h2 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a><strong>æµ‹è¯•</strong></h2><hr>
<p>å®Œæˆäº†è‡ªå·±çš„<code>yyg-react-router-dom</code>åº“, å¯ä»¥æ¥åšä¸€ä¸ªç®€å•çš„æµ‹è¯•.</p>
<blockquote>
<p>å½“ç„¶, æµ‹è¯•ç”¨ä¾‹æ˜¯éšæ„çš„</p>
</blockquote>
<p>æ‰“å¼€<code>App.tsx</code>, ä¿®æ”¹<code>render</code>ä¸­çš„æµ‹è¯•é€»è¾‘å¦‚ä¸‹:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//src/App.tsx</span></span><br><span class="line">...</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;BrowserRouter&gt;</span><br><span class="line">        &lt;Switch&gt;</span><br><span class="line">          &lt;Route</span><br><span class="line">            path=&#123;<span class="string">"/test"</span>&#125;</span><br><span class="line">            component=&#123;One&#125;</span><br><span class="line">          /&gt;</span><br><span class="line">        &lt;<span class="regexp">/Switch&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>BrowserRouter&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">...</span></span><br></pre></td></tr></table></figure>
<p>ç„¶å, åœ¨<code>vscode</code>çš„æŒ‡å¼•ä¸‹, è¿›å…¥<code>One.tsx</code>ç»„ä»¶, åŒæ ·ä¿®æ”¹<code>render</code>ä¸­çš„é€»è¾‘:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> (</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h1&gt;Page One&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">    &lt;ul&gt;</span></span><br><span class="line"><span class="regexp">      &lt;li&gt;</span></span><br><span class="line"><span class="regexp">        &lt;Link</span></span><br><span class="line"><span class="regexp">          to="/</span>test/home<span class="string">"</span></span><br><span class="line"><span class="string">        &gt;</span></span><br><span class="line"><span class="string">          Home</span></span><br><span class="line"><span class="string">        &lt;/Link&gt;</span></span><br><span class="line"><span class="string">      &lt;/li&gt;</span></span><br><span class="line"><span class="string">      &lt;li&gt;</span></span><br><span class="line"><span class="string">        &lt;NavLink</span></span><br><span class="line"><span class="string">          to=&#123;&#123;</span></span><br><span class="line"><span class="string">            pathname: '/test/product',</span></span><br><span class="line"><span class="string">            state: &#123;</span></span><br><span class="line"><span class="string">              id: '19980808',</span></span><br><span class="line"><span class="string">              name: 'duan',</span></span><br><span class="line"><span class="string">            &#125;,</span></span><br><span class="line"><span class="string">          &#125;&#125;</span></span><br><span class="line"><span class="string">          activeStyle=&#123;&#123;</span></span><br><span class="line"><span class="string">            color: 'red',</span></span><br><span class="line"><span class="string">          &#125;&#125;</span></span><br><span class="line"><span class="string">        &gt;Product&lt;/NavLink&gt;</span></span><br><span class="line"><span class="string">      &lt;/li&gt;</span></span><br><span class="line"><span class="string">      &lt;li&gt;</span></span><br><span class="line"><span class="string">        &lt;NavLink</span></span><br><span class="line"><span class="string">          to="</span>/test/contact<span class="string">"</span></span><br><span class="line"><span class="string">          activeStyle=&#123;&#123;</span></span><br><span class="line"><span class="string">            color: 'red',</span></span><br><span class="line"><span class="string">          &#125;&#125;</span></span><br><span class="line"><span class="string">        &gt;</span></span><br><span class="line"><span class="string">          Contact</span></span><br><span class="line"><span class="string">      &lt;/NavLink&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">      &lt;/li&gt;</span></span><br><span class="line"><span class="string">    &lt;/ul&gt;</span></span><br><span class="line"><span class="string">    &lt;Two render=&#123;(&#123; point &#125;) =&gt; (</span></span><br><span class="line"><span class="string">      &lt;div&gt;</span></span><br><span class="line"><span class="string">        &lt;div&gt;&#123;point.x&#125;&lt;/div&gt;</span></span><br><span class="line"><span class="string">        &lt;div&gt;&#123;point.y&#125;&lt;/div&gt;</span></span><br><span class="line"><span class="string">      &lt;/div&gt;</span></span><br><span class="line"><span class="string">    )&#125; /&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &lt;div&gt;</span></span><br><span class="line"><span class="string">      &lt;Route exact path="</span>/test/home<span class="string">" component=&#123;Three&#125; /&gt;</span></span><br><span class="line"><span class="string">      &lt;Route exact path="</span>/test/product<span class="string">" component=&#123;Four&#125; /&gt;</span></span><br><span class="line"><span class="string">      &lt;Route exact path="</span>/test/contact<span class="string">" component=&#123;Five&#125; /&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">  &lt;/div&gt;</span></span><br><span class="line"><span class="string">);</span></span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°, æ€»å…±æœ‰ä¸‰ä¸ª<code>é”šç‚¹</code>, ç¬¬ä¸€ä¸ªä¸º<code>Link</code>, ä¸ºäº†ä¸<code>NavLink</code>çš„æ•ˆæœåŠ ä»¥åŒºåˆ†, ç„¶ååœ¨æœ€ä¸‹æ–¹æ”¾ç½®éœ€è¦<code>router-view</code>, ä¹Ÿå°±æ˜¯éœ€è¦æ¸²æŸ“çš„ç»„ä»¶. å¤§è‡´ç»“æ„ä¸åœ¨é¡¹ç›®ä¸­ä½¿ç”¨çš„å·®ä¸å¤šçš„â€¦</p>
<p>æ¥ç€, åœ¨æµè§ˆå™¨ä¸­å¯ä»¥çœ‹åˆ°æ•ˆæœ:</p>
<p><img src="https://oos.blog.yyge.top/2019/2/7/react-router-dom%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90%28%E5%85%AB%29%20-NavLink/images/2.gif?imageView2/0/q/75|watermark/2/text/6Ziz5ZOl5bCP56uZ/font/5b6u6L2v6ZuF6buR/fontsize/440/fill/IzE4OTBGRg==/dissolve/100/gravity/SouthEast/dx/10/dy/10|imageslim" alt="æµ‹è¯•NavLink"></p>
<p>ç‚¹å‡»<code>Home</code>æŒ‰é’®, è§†å›¾å˜äº†, ä½†æ˜¯é“¾æ¥é¢œè‰²æ²¡å˜åŒ–? å½“ç„¶äº†, å› ä¸ºè¿™åªæ˜¯æ™®é€šçš„<code>Link</code>ç»„ä»¶, ä½ æƒ³å®ƒæœ‰å•¥æ•ˆæœ? æ¥ç€çœ‹ä¸‹é¢ä¸¤ä¸ª, prefect, ä¸¤ä¸ªé”šç‚¹æ ·å¼éšç€urlå˜åŒ–è€Œæ”¹å˜.</p>
<p>æ­¤æ—¶, å¯¹äº<code>NavLink</code>çš„æµ‹è¯•å·¥ä½œå·²ç»å®Œç¾ç»“æŸäº†</p>
<h2 id="æºç "><a href="#æºç " class="headerlink" title="æºç "></a><strong>æºç </strong></h2><hr>
<p>æºç å·²ä¸Šä¼ , ç‚¹<a href="https://github.com/ddzy/yyg-react-router-dom" target="_blank" rel="noopener">è¿™é‡Œ</a></p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a><strong>æ€»ç»“</strong></h2><blockquote>
<p>è·¯æ¼«æ¼«å…¶ä¿®è¿œå…®, å¾å¿…åå¤æ±‚å…¶çŸ¥</p>
</blockquote>
<p>æœ€å, ä¸€å¼ æ€ç»´è„‘å›¾æ¥ç»“æŸä»Šå¤©çš„æºç å­¦ä¹ </p>
<p><img src="https://oos.blog.yyge.top/2019/2/7/react-router-dom%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90%28%E5%85%AB%29%20-NavLink/images/3.jpg?imageView2/0/q/75|watermark/2/text/6Ziz5ZOl5bCP56uZ/font/5b6u6L2v6ZuF6buR/fontsize/440/fill/IzE4OTBGRg==/dissolve/100/gravity/SouthEast/dx/10/dy/10|imageslim" alt="NavLinkæ€ç»´å›¾è§£"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.yyge.top/2019/02/07/react-router-domæºç è§£æ-å…«-NavLink/" data-id="cjrvcpw4l001s20d3nowmmmqo" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/react/">react</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2019/02/07/match-pathå’Œmatch-urlçš„çˆ±æ¨æƒ…ä»‡/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          match.pathå’Œmatch.urlçš„çˆ±æ¨æƒ…ä»‡
        
      </div>
    </a>
  
  
    <a href="/2019/02/05/react-router-domæºç è§£æ-ä¸ƒ-Link/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">react-router-domæºç è§£æ(ä¸ƒ) -Link</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">åˆ†ç±»</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/freebie/">freebie</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/frontend/">frontend</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/tool/">tool</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æ ‡ç­¾</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/react/">react</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vscode/">vscode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webpack/">webpack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ä¸ƒç‰›äº‘/">ä¸ƒç‰›äº‘</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/æ¯•è®¾/">æ¯•è®¾</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æ ‡ç­¾äº‘</h3>
    <div class="widget tagcloud">
      <a href="/tags/react/" style="font-size: 20px;">react</a> <a href="/tags/vscode/" style="font-size: 10px;">vscode</a> <a href="/tags/webpack/" style="font-size: 17.5px;">webpack</a> <a href="/tags/ä¸ƒç‰›äº‘/" style="font-size: 12.5px;">ä¸ƒç‰›äº‘</a> <a href="/tags/æ¯•è®¾/" style="font-size: 15px;">æ¯•è®¾</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">å½’æ¡£</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">äºŒæœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">ä¸€æœˆ 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æœ€æ–°æ–‡ç« </h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/02/08/react-router-domæºç è§£æ-ä¹-withRouter/">react-router-domæºç è§£æ(ä¹) -withRouter</a>
          </li>
        
          <li>
            <a href="/2019/02/07/match-pathå’Œmatch-urlçš„çˆ±æ¨æƒ…ä»‡/">match.pathå’Œmatch.urlçš„çˆ±æ¨æƒ…ä»‡</a>
          </li>
        
          <li>
            <a href="/2019/02/07/react-router-domæºç è§£æ-å…«-NavLink/">react-router-domæºç è§£æ(å…«) -NavLink</a>
          </li>
        
          <li>
            <a href="/2019/02/05/react-router-domæºç è§£æ-ä¸ƒ-Link/">react-router-domæºç è§£æ(ä¸ƒ) -Link</a>
          </li>
        
          <li>
            <a href="/2019/01/31/vscodeæ’ä»¶å¼€å‘æ€»ç»“/">vscodeæ’ä»¶å¼€å‘æ€»ç»“</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 zhaoyang Duan<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>